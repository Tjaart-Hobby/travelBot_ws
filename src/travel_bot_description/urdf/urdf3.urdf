<?xml version="1.0"?>
<robot name="travel_bot">
    <!--to include other files-->
    <!--xacro:include filename="my_materials.xacro"/-->

    <link name="world_link"/>

 <!--.............................................................caster_link...................................................................-->

    <link name="sphere_link">
        <visual>
        <origin xyz="1.5 0.88 0.025" rpy="0.0 0.0 0.0"/>
        <geometry>
            <sphere radius="0.026"/>
        </geometry>   
        </visual>
        <collision>
        <origin xyz="1.5 0.88 0.025" rpy="0.0 0.0 0.0"/>
        <geometry>
            <sphere radius="0.026"/>
        </geometry> 
        </collision>
        <inertial>
            <origin xyz="1.5 0.88 0.025" rpy="0.0 0.0 0.0"/>
            <mass value="0.002"/>
            <inertia ixx="0.000015417" ixy="0.0" ixz="0.0" iyy="0.000015417" iyz="0.0" izz="0.000004"/>
        </inertial>
        <!--gazebo reference="sphere_link">  gazebo tags outside links, posibly in one gazebo tag
          <material>Gazebo/Blue</material>
        </gazebo-->

    </link>

     <joint name="sphere_joint" type="fixed">
        <parent link="caster_link"/>
        <child link="sphere_link"/>
        <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
    </joint>   

    <link name="caster_link">
        <visual>
            <origin xyz="1.5 0.89 0.055" rpy="0.0 0.0 0.0"/>
            <geometry>
                <cylinder radius="0.0095" length="0.05"/>
            </geometry>
        </visual>
        <collision>
             <origin xyz="1.5 0.89 0.055" rpy="0.0 0.0 0.0"/>
            <geometry>
                <cylinder radius="0.001" length="0.5"/>
            </geometry>    
        </collision>
        <inertial>
            <origin xyz="1.5 0.89 0.055" rpy="0.0 0.0 0.0"/>
            <mass value="0.002"/>
            <inertia ixx="0.000015417" ixy="0.0" ixz="0.0" iyy="0.000015417" iyz="0.0" izz="0.000004"/>
        </inertial>

        <gazebo reference="caster_link">
          <material>Gazebo/Blue</material>
        </gazebo>
        
    </link>
   
    <joint name="caster_joint" type="continuous">
        <parent link="base_link"/>
        <child link="caster_link"/>
        <axis xyz="0 0 1"/>
        <origin xyz="-1.5 -1.0 0.0" rpy="0 0 0"/>
    </joint>
    
<!--................................................................end caster................................................................-->
<!-->.................................................................base_link.................................................................-->
    <link name="base_link">
        <visual>
            <origin xyz="0.0 0.0 0.165" rpy="0.0 0.0 0.0"/>
            <geometry>
                <box size="0.21 0.255 0.19"/>
            </geometry>
            <material name="green">
                <color rgba="0.2 1 0.2 1"/>
            </material>
        </visual>
        <collision>
            <origin xyz="0.0 0.0 0.165" rpy="0.0 0.0 0.0"/>
            <geometry>
                <box size="0.21 0.255 0.19"/>
            </geometry>
        </collision>
        <inertial>
            <origin xyz="0.0 0.0 0.165" rpy="0.0 0.0 0.0"/>
            <mass value="1.5"/>
            <inertia ixx="0.012640625" ixy="0.0" ixz="0.0" iyy="0.009090113" iyz="0.0" izz="0.00668066"/>  <!--still have to work these out online, box of 1.5kg + dimentions-->
        </inertial>

              <!--gazebo colours moved outside of link-->
        
    </link>

    <gazebo reference="base_link">
        <material>Gazebo/GreenTransparent</material>
    </gazebo>

    <joint name="base_joint" type="fixed">
        <parent link="world_link"/>
        <child link="base_link"/>
        <origin xyz="1.5 1.0 0.0" rpy="0.0 0.0 0.0"/>
    </joint>

 <!--................................................................................end base_link..............................................................-->
 <!--................................................................................right_wheel_link........................................................-->   

    <link name="right_wheel_link">
        <visual>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <geometry>
            <!--when using path to mesh file it must be in package and path should start with package://-->
                <mesh filename="package://travel_bot_description/meshes/Hoverboard_Wheel_6_in.stl" scale="0.001 0.001 0.001"/>
            <!--using auto fill mesh block> it gives only variable in scale but three reqiured x,y,x -->
            </geometry>
            <material name="blue">
                <color rgba="0.2 0.2 1 1"/>
            </material>
        </visual>

        <collision>
            <origin xyz="0.03 0.0 0.0" rpy="0.0 -1.5708 0.0"/>
            <geometry>
                <cylinder radius="0.08" length="0.045"/>
            </geometry>
        </collision>

        <inertial>
            <origin xyz="0.03 0.0 0.0" rpy="0.0 -1.5708 0.0"/>
            <mass value="2.0"/>
            <inertia ixx="0.00305" ixy="0.0" ixz="0.0" iyy="0.00305" iyz="0.0" izz="0.0049"/>  
            <!--still have to work these out online, cylinder of 2kg + dimentions-->
        </inertial>
        
        <gazebo reference="right_wheel_link">
          <material>Gazebo/Blue</material>
        </gazebo>

    </link>

        <link name="left_wheel_link">
        <visual>
            <origin xyz="-0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <geometry>
            <!--filename says path to file but filename works as long as in meshes folder under package folder-->
                <!--mesh filename="Hoverboard_Wheel_6_in.stl" scale="0.001 0.001 0.001"/--><!--no it doesn,t-->
                <mesh filename="package://travel_bot_description/meshes/Hoverboard_Wheel_6_in.stl" scale="0.001 0.001 0.001"/>
            </geometry>
            <material name="blue">
                <color rgba="0.2 0.2 1 1"/>
            </material>
        </visual>
        <collision>
            <origin xyz="0.03 0.0 0.0" rpy="0.0 1.5708 0.0"/>
            <geometry>
                <cylinder radius="0.08" length="0.045"/>
            </geometry>    
        </collision>

        <inertial>
            <origin xyz="0.03 0.0 0.0" rpy="0.0 1.5708 0.0"/>
            <mass value="2.0"/>
            <inertia ixx="0.00305" ixy="0.0" ixz="0.0" iyy="0.00305" iyz="0.0" izz="0.0049"/>  
            <!--still have to work these out online, cylinder of 2kg + dimentions-->
        </inertial>

        <gazebo reference="left_wheel_link">
          <material>Gazebo/Blue</material>
        </gazebo>

    </link>


    <link name="depthCam_link">
        <visual>
            <origin xyz="1.49 1.0 0.27" rpy="0.0 0.0 0.0"/>
            <geometry>
            <!--filename says path to file but filename works as long as in meshes folder under package folder-->
                <!--mesh filename="Hoverboard_Wheel_6_in.stl" scale="0.001 0.001 0.001"/--><!--no it doesn,t-->
                <mesh filename="package://travel_bot_description/meshes/Kinect.stl" scale="0.001 0.001 0.001"/>
            </geometry>
            <material name="orange">
                <color rgba="1 0.3 0.1 1"/>
            </material>
        </visual>
        <collision>
            <origin xyz="1.48 1.005 0.31" rpy="0.0 0.0 1.5708"/>
            <geometry>
            <!--filename says path to file but filename works as long as in meshes folder under package folder-->
                <!--mesh filename="Hoverboard_Wheel_6_in.stl" scale="0.001 0.001 0.001"/--><!--no it doesn,t-->
                <!--mesh filename="package://travel_bot_description/meshes/Kinect.stl" scale="0.001 0.001 0.001"/-->
                <box size="0.055 0.26 0.03"/>
            </geometry>
        </collision>

        <inertial>
            <origin xyz="1.49 1.0 0.27" rpy="0.0 0.0 0.0"/>
            <mass value="0.1"/>
            <inertia ixx="0.000374017" ixy="0.0" ixz="0.0" iyy="0.000374017" iyz="0.0" izz="0.000081634"/>  <!--still have to work these out online, cylinder of 2kg + dimentions-->
        </inertial>

        <gazebo reference="depthCam_link">
          <material>Gazebo/Blue</material>
        </gazebo>

    </link>
<!--......................................lidar_link........................................................................................-->
    <link name="lidar_link">
        <visual>
            <origin xyz="0.0 0.0 0.07" rpy="1.5708 0.0 0.0"/>
            <geometry>
            <!--filename says path to file but filename works as long as in meshes folder under package folder-->
                <!--mesh filename="Hoverboard_Wheel_6_in.stl" scale="0.001 0.001 0.001"/--><!--no it doesn,t-->
                <mesh filename="package://travel_bot_description/meshes/LD06_LiDAR.stl" scale="0.001 0.001 0.001"/>
            </geometry>
            <material name="black">
                <color rgba="0 0 0 1"/>
            </material>
        </visual>
        <collision>
            <origin xyz="0.017 -0.028 0.09" rpy="0.0 0.0 0.0"/>
            <geometry>
            <!--filename says path to file but filename works as long as in meshes folder under package folder-->
                <!--mesh filename="Hoverboard_Wheel_6_in.stl" scale="0.001 0.001 0.001"/--><!--no it doesn,t-->
                <!--mesh filename="package://travel_bot_description/meshes/LD06_LiDAR.stl" scale="0.001 0.001 0.001"/-->
                <cylinder radius="0.02" length="0.032"/>
            </geometry>
        </collision>

        <inertial>
            <origin xyz="0.0 0.0 0.07" rpy="0.0 0.0 0.0"/>
            <mass value="0.002"/>
            <inertia ixx="0.000015417" ixy="0.0" ixz="0.0" iyy="0.000015417" iyz="0.0" izz="0.000004"/>  <!--still have to work these out online, cylinder of 2kg + dimentions-->
        </inertial>

    </link>
<!--gazebo tags ourside of link tags for collour ? maybe everthing gazebo?-->
    <gazebo reference="lidar_link">
        <material>Gazebo/Blue</material>
    </gazebo>

 <!--......................................................................end lidar_link............................................................-->   

    <link name="lidarBracket_link">
        <visual>
            <origin xyz="0.0 0.0 0.07" rpy="0.0 0.0 0.0"/>
            
            <geometry>
            <!--filename says path to file but filename works as long as in meshes folder under package folder-->
                <!--mesh filename="Hoverboard_Wheel_6_in.stl" scale="0.001 0.001 0.001"/--><!--no it doesn,t-->
                <mesh filename="package://travel_bot_description/meshes/lidarMount.stl" scale="0.001 0.001 0.001"/>
            </geometry>
            <material name="pink">
                <color rgba="1 0.7 0.7 1"/>
            </material>
        </visual>
        <!--collision>
            <origin xyz="0.5 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <cylinder radius="0.085" length="0.06"/>
        </collision-->

        <inertial>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <mass value="0.001"/>
            <inertia ixx="0.0" ixy="0.0" ixz="0.0" iyy="0.0" iyz="0.0" izz="0.0"/>  <!--still have to work these out online, cylinder of 2kg + dimentions-->
        </inertial>

        <gazebo reference="lidarBracket_link">
          <material>Gazebo/Blue</material>
        </gazebo>

    </link>

    <joint name="depthCam_joint" type="fixed">
        <parent link="base_link"/>
        <child link="depthCam_link"/>
        <origin xyz="1.49 1.0 0.0" rpy="0.0 0.0 3.14159"/>
    </joint>

    <joint name="lidarBracket_joint" type="fixed">
        <parent link="base_link"/>
        <child link="lidarBracket_link"/>
        <origin xyz="0.006 -0.18 0.247" rpy="0.0 0.0 0.0"/>
    </joint>

    <joint name="lidar_joint" type="fixed">
        <parent link="lidarBracket_link"/>
        <child link="lidar_link"/>
        <origin xyz="-0.016 0.072 0.053" rpy="0.0 0.0 0.0"/>
    </joint>
    
    <joint name="right_wheel_joint" type="continuous">
        <parent link="base_link"/>
        <child link="right_wheel_link"/>
        <axis xyz="-1 0 0"/>   <!--removing this tag changes nothing? maybe its in wrong posision/works fine, origin was wrong-->
        <origin xyz="0.1 0.045 0.075" rpy="0 0 0"/>
    </joint>

    <joint name="left_wheel_joint" type="continuous">
        <parent link="base_link"/>
        <child link="left_wheel_link"/>
        <axis xyz="1 0 0"/>
        <origin xyz="-0.1 0.045 0.075" rpy="0.0 3.14159 0.0"/>
    </joint>
    

</robot>